version: 0.1
phases:
  install:
    commands:
      - npm install -g bower
      - npm install -g grunt-cli
      - bower install --allow-root
      - npm install --save-dev @angular/cli@latest
  pre_build:
    commands:
      - ls -al
      - mkdir dist
      - cp ./** dist
      - cd dist
      - rm -rf appspec.yml
      - rm -rf awsscripts/install_dependencies.sh
      - rm -rf awsscripts/start_application.sh
      - rm -rf awsscripts/stop_application.sh
      - rm -rf awsscripts/aws_codedeploy_config.sh
      - cd ..
artifacts:
  files:
      - dist/*
      - awsscripts/install_dependencies.sh
      - awsscripts/start_application.sh
      - awsscripts/stop_application.sh
      - awsscripts/aws_codedeploy_config.sh
      - appspec.yml
base-directory: mifosFrontend     
discard-paths: yes
